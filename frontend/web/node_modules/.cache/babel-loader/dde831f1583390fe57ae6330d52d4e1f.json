{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/rebeccasell/Documents/projects/stagewood/frontend/web/src/components/CreateAccount.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { useHistory } from \"react-router\";\nimport { AUTH_TOKEN } from \"../constants\";\n\nfunction CreateAccount(props) {\n  _s();\n\n  const [formState, setFormState] = useState({\n    login: true,\n    email: \"\",\n    password: \"\"\n  });\n  const SIGNUP_MUTATION = gql`\n    mutation SignupMutation(\n      $email: String!\n      $password: String!\n      $username: String!\n      $picture: String!\n      $name: String!\n    ) {\n      signup(\n        email: $email\n        password: $password\n        username: $username\n        picture: $picture\n        name: $name\n      ) {\n        token\n      }\n    }\n  `;\n  const [signup] = useMutation(SIGNUP_MUTATION, {\n    variables: {\n      name: formState.name,\n      email: formState.email,\n      username: formState.username,\n      picture: formState.picture,\n      password: formState.password\n    },\n    onCompleted: ({\n      signup\n    }) => {\n      console.log(AUTH_TOKEN, signup.token);\n      localStorage.setItem(AUTH_TOKEN, signup.token); //   history.push(\"/\");\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"formpage\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"mv3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: formState.name,\n          onChange: e => setFormState({ ...formState,\n            name: e.target.value\n          }),\n          type: \"text\",\n          placeholder: \"Your name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: formState.email,\n          onChange: e => setFormState({ ...formState,\n            email: e.target.value\n          }),\n          type: \"text\",\n          placeholder: \"Your email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: formState.password,\n          onChange: e => setFormState({ ...formState,\n            password: e.target.value\n          }),\n          type: \"password\",\n          placeholder: \"Choose a safe password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: formState.username,\n          onChange: e => setFormState({ ...formState,\n            username: e.target.value\n          }),\n          type: \"username\",\n          placeholder: \"anything you like\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: formState.picture,\n          onChange: e => setFormState({ ...formState,\n            picture: e.target.value\n          }),\n          type: \"picture\",\n          placeholder: \"anything you like\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttonbox\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button\",\n            onClick: formState.login ? login : signup,\n            children: formState.login ? \"login\" : \"create account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button\",\n            onClick: e => setFormState({ ...formState,\n              login: !formState.login\n            }),\n            children: formState.login ? \"Create Account\" : \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateAccount, \"cTbThMlqEsU0As6PAWvpIxOvn5g=\", false, function () {\n  return [useMutation];\n});\n\n_c = CreateAccount;\nexport default CreateAccount;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateAccount\");","map":{"version":3,"sources":["/Users/rebeccasell/Documents/projects/stagewood/frontend/web/src/components/CreateAccount.js"],"names":["React","useState","useMutation","gql","useHistory","AUTH_TOKEN","CreateAccount","props","formState","setFormState","login","email","password","SIGNUP_MUTATION","signup","variables","name","username","picture","onCompleted","console","log","token","localStorage","setItem","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { useHistory } from \"react-router\";\nimport { AUTH_TOKEN } from \"../constants\";\nfunction CreateAccount(props) {\n  const [formState, setFormState] = useState({\n    login: true,\n    email: \"\",\n    password: \"\",\n  });\n\n  const SIGNUP_MUTATION = gql`\n    mutation SignupMutation(\n      $email: String!\n      $password: String!\n      $username: String!\n      $picture: String!\n      $name: String!\n    ) {\n      signup(\n        email: $email\n        password: $password\n        username: $username\n        picture: $picture\n        name: $name\n      ) {\n        token\n      }\n    }\n  `;\n  const [signup] = useMutation(SIGNUP_MUTATION, {\n    variables: {\n      name: formState.name,\n      email: formState.email,\n      username: formState.username,\n      picture: formState.picture,\n      password: formState.password,\n    },\n    onCompleted: ({ signup }) => {\n      console.log(AUTH_TOKEN, signup.token);\n      localStorage.setItem(AUTH_TOKEN, signup.token);\n      //   history.push(\"/\");\n    },\n  });\n  return (\n    <div className=\"formpage\">\n      <div>\n        <h4 className=\"mv3\"></h4>\n        <div className=\"form\">\n          <input\n            value={formState.name}\n            onChange={(e) =>\n              setFormState({\n                ...formState,\n                name: e.target.value,\n              })\n            }\n            type=\"text\"\n            placeholder=\"Your name\"\n          />\n\n          <input\n            value={formState.email}\n            onChange={(e) =>\n              setFormState({\n                ...formState,\n                email: e.target.value,\n              })\n            }\n            type=\"text\"\n            placeholder=\"Your email address\"\n          />\n          <input\n            value={formState.password}\n            onChange={(e) =>\n              setFormState({\n                ...formState,\n                password: e.target.value,\n              })\n            }\n            type=\"password\"\n            placeholder=\"Choose a safe password\"\n          />\n          <input\n            value={formState.username}\n            onChange={(e) =>\n              setFormState({\n                ...formState,\n                username: e.target.value,\n              })\n            }\n            type=\"username\"\n            placeholder=\"anything you like\"\n          />\n          <input\n            value={formState.picture}\n            onChange={(e) =>\n              setFormState({\n                ...formState,\n                picture: e.target.value,\n              })\n            }\n            type=\"picture\"\n            placeholder=\"anything you like\"\n          />\n          <div className=\"buttonbox\">\n            <button\n              className=\"button\"\n              onClick={formState.login ? login : signup}\n            >\n              {formState.login ? \"login\" : \"create account\"}\n            </button>\n            <button\n              className=\"button\"\n              onClick={(e) =>\n                setFormState({\n                  ...formState,\n                  login: !formState.login,\n                })\n              }\n            >\n              {formState.login ? \"Create Account\" : \"Login\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CreateAccount;\n"]},"metadata":{},"sourceType":"module"}